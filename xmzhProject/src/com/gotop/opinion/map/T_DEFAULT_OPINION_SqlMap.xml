<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="T_DEFAULT_OPINION_SqlMap">
<resultMap class="com.gotop.opinion.model.TDefaultOpinion" id="abatorgenerated_TDefaultOpinionResult">
    <!--Bean方式返回全表-->
    <result column="REC_ID" jdbcType="DECIMAL" property="recId" />
    <result column="EMP_ID" jdbcType="DECIMAL" property="empId" />
    <result column="OPINION" jdbcType="VARCHAR" property="opinion" />
  </resultMap>
<resultMap class="java.util.HashMap" id="abatorgenerated_TDefaultOpinion_HashMapResult">
    <!--HashMap方式返回全表-->
    <result column="REC_ID" jdbcType="DECIMAL" property="recId" />
    <result column="EMP_ID" jdbcType="DECIMAL" property="empId" />
    <result column="OPINION" jdbcType="VARCHAR" property="opinion" />
  </resultMap>


  


  


  

<select id="abatorgenerated_selectByPrimaryKey" parameterClass="com.gotop.opinion.model.TDefaultOpinion" resultMap="abatorgenerated_TDefaultOpinionResult">
    <!--通过主键查询一条数据-->
    select REC_ID, EMP_ID, OPINION
    from T_DEFAULT_OPINION
    where REC_ID = #recId:DECIMAL#
  </select>


  

<select id="abatorgenerated_selectByExample" parameterClass="com.gotop.opinion.model.TDefaultOpinionExample" resultMap="abatorgenerated_TDefaultOpinionResult">
    <!--通过查询实体,查询满足条件的记录-->
    select REC_ID, EMP_ID, OPINION
    from T_DEFAULT_OPINION
    <isParameterPresent>
      <include refid="COMMON.abatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause">
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>


  

<select id="abatorgenerated_expandEntityByTemplate" parameterClass="com.gotop.opinion.model.TDefaultOpinion" resultMap="abatorgenerated_TDefaultOpinionResult">
    <!--根据Bean数据模板查询条件查询所有记录，可查询分页数据-->
    select REC_ID, EMP_ID, OPINION
    from T_DEFAULT_OPINION where <![CDATA[ rownum<2 ]]>
    <dynamic>
      <isNotNull prepend="and" property="recId">
        REC_ID = #recId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="and" property="empId">
        EMP_ID = #empId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="and" property="opinion">
        OPINION = #opinion:VARCHAR#
      </isNotNull>
    </dynamic>
  </select>


  

<select id="abatorgenerated_queryEntitiesByTemplate" parameterClass="com.gotop.opinion.model.TDefaultOpinion" resultMap="abatorgenerated_TDefaultOpinionResult">
    <!--根据Bean数据模板查询条件查询所有记录，可查询分页数据-->
    select REC_ID, EMP_ID, OPINION
    from T_DEFAULT_OPINION
    <dynamic prepend="where">
      <isNotNull prepend="and" property="recId">
        REC_ID = #recId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="and" property="empId">
        EMP_ID = #empId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="and" property="opinion">
        OPINION = #opinion:VARCHAR#
      </isNotNull>
    </dynamic>
  </select>


  

<delete id="abatorgenerated_deleteByPrimaryKey" parameterClass="com.gotop.opinion.model.TDefaultOpinion">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on .
    -->
    <!--通过主键删除一条记录-->
    delete from T_DEFAULT_OPINION
    where REC_ID = #recId:DECIMAL#
  </delete>


  

<delete id="abatorgenerated_deleteByExample" parameterClass="com.gotop.opinion.model.TDefaultOpinionExample">
    <!--通过查询实例，删除满足条件的数据-->
    delete from T_DEFAULT_OPINION
    <include refid="COMMON.abatorgenerated_Example_Where_Clause" />
  </delete>


  

<delete id="abatorgenerated_deleteByTemplate" parameterClass="com.gotop.opinion.model.TDefaultOpinion">
    <!--根据Bean数据模板查询条件删除记录-->
    delete from T_DEFAULT_OPINION
    <dynamic prepend="where">
      <isNotEmpty prepend="and" property="recId">
        REC_ID = #recId:DECIMAL#
      </isNotEmpty>
      <isNotEmpty prepend="and" property="empId">
        EMP_ID = #empId:DECIMAL#
      </isNotEmpty>
      <isNotEmpty prepend="and" property="opinion">
        OPINION = #opinion:VARCHAR#
      </isNotEmpty>
    </dynamic>
  </delete>


  

<insert id="abatorgenerated_insert" parameterClass="com.gotop.opinion.model.TDefaultOpinion">
    <!--通过主键更新整条数据-->
    <selectKey keyProperty="recId" resultClass="Long">
        select T_DEFAULT_OPINION_SEQ.Nextval from dual
    </selectKey>
    insert into T_DEFAULT_OPINION (REC_ID, EMP_ID, OPINION)
    values (#recId:DECIMAL:-9999#, #empId:DECIMAL:-9999#, #opinion:VARCHAR#)
  </insert>


  

<update id="abatorgenerated_updateByPrimaryKey" parameterClass="com.gotop.opinion.model.TDefaultOpinion">
    <!--通过主键更新一条全部字段内容-->
    update T_DEFAULT_OPINION
    set EMP_ID = #empId:DECIMAL:-9999#,
      OPINION = #opinion:VARCHAR#
    where REC_ID = #recId:DECIMAL#
  </update>


  

<update id="abatorgenerated_updateByPrimaryKeySelective" parameterClass="com.gotop.opinion.model.TDefaultOpinion">
    <!--通过主键更新部分字段，部分字段说明：当字段为null时不更新，当字段值为''空值是更新为空值-->
    update T_DEFAULT_OPINION
    <dynamic prepend="set">
      <isNotNull prepend="," property="empId">
        EMP_ID = #empId:DECIMAL:-9999#
      </isNotNull>
      <isNotNull prepend="," property="opinion">
        OPINION = #opinion:VARCHAR#
      </isNotNull>
    </dynamic>
    where REC_ID = #recId:DECIMAL#
  </update>


  

<select id="abatorgenerated_countByExample" parameterClass="com.gotop.opinion.model.TDefaultOpinionExample" resultClass="java.lang.Integer">
    <!--通过查询实例，统计总数-->
    select count(*) from T_DEFAULT_OPINION
    <include refid="COMMON.abatorgenerated_Example_Where_Clause" />
  </select>


  

<select id="abatorgenerated_countByTemplate" parameterClass="com.gotop.opinion.model.TDefaultOpinion" resultClass="java.lang.Integer">
    <!--通过查询Bean数据模板，统计总数-->
    select count(*) from T_DEFAULT_OPINION
    <dynamic prepend="where">
      <isNotNull prepend="and" property="recId">
        REC_ID = #recId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="and" property="empId">
        EMP_ID = #empId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="and" property="opinion">
        OPINION = #opinion:VARCHAR#
      </isNotNull>
    </dynamic>
  </select>


  

<update id="abatorgenerated_updateByExampleSelective">
    <!--通过查询实例，更新非null字段-->
    update T_DEFAULT_OPINION
    <dynamic prepend="set">
      <isNotNull prepend="," property="record.recId">
        REC_ID = #record.recId:DECIMAL:-9999#
      </isNotNull>
      <isNotNull prepend="," property="record.empId">
        EMP_ID = #record.empId:DECIMAL:-9999#
      </isNotNull>
      <isNotNull prepend="," property="record.opinion">
        OPINION = #record.opinion:VARCHAR#
      </isNotNull>
    </dynamic>
    <isParameterPresent>
      <include refid="COMMON.abatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>


  

<update id="abatorgenerated_updateByExample">
    <!--通过查询实例，更新全部字段-->
    update T_DEFAULT_OPINION
    set REC_ID = #record.recId:DECIMAL:-9999#,
      EMP_ID = #record.empId:DECIMAL:-9999#,
      OPINION = #record.opinion:VARCHAR#
    <isParameterPresent>
      <include refid="COMMON.abatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>


  

<update id="abatorgenerated_updateEntityByTemplate">
    <!--根据Bean数据模板查询条件更新记录-->
    update T_DEFAULT_OPINION
    <dynamic prepend="set">
      <isNotEmpty prepend="," property="record.recId">
        REC_ID = #record.recId:DECIMAL:-9999#
      </isNotEmpty>
      <isNotEmpty prepend="," property="record.empId">
        EMP_ID = #record.empId:DECIMAL:-9999#
      </isNotEmpty>
      <isNotEmpty prepend="," property="record.opinion">
        OPINION = #record.opinion:VARCHAR#
      </isNotEmpty>
    </dynamic>
    <dynamic prepend="where">
      <isNotEmpty prepend="and" property="template.recId">
        REC_ID = #template.recId:DECIMAL#
      </isNotEmpty>
      <isNotEmpty prepend="and" property="template.empId">
        EMP_ID = #template.empId:DECIMAL#
      </isNotEmpty>
      <isNotEmpty prepend="and" property="template.opinion">
        OPINION = #template.opinion:VARCHAR#
      </isNotEmpty>
    </dynamic>
  </update>


  

<select id="abatorgenerated_selectByMapAndPage" parameterClass="java.util.HashMap" resultMap="abatorgenerated_TDefaultOpinion_HashMapResult">
    <!--通过Map方式的动态条件，查询分页数据-->
    select REC_ID, EMP_ID, OPINION
    from T_DEFAULT_OPINION
    <dynamic prepend="where">
      <isNotNull prepend="and" property="recId">
        REC_ID = #recId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="and" property="empId">
        EMP_ID = #empId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="and" property="opinion">
        OPINION = #opinion:VARCHAR#
      </isNotNull>
    </dynamic>
  </select>


  

<select id="abatorgenerated_selectByExampleAndPage" parameterClass="com.gotop.opinion.model.TDefaultOpinionExample" resultMap="abatorgenerated_TDefaultOpinionResult">
    <!--通过Bean方式的动态条件，查询分页数据-->
    select REC_ID, EMP_ID, OPINION
    from T_DEFAULT_OPINION
    <isParameterPresent>
      <include refid="COMMON.abatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </select>
  <!-- 通过登录人id获取默认意见列表 -->
<select id="queryDefaultOpsByemp" parameterClass="Long" resultClass="com.gotop.opinion.model.TDefaultOpinion">
    select t.rec_id recid, t.emp_id empid, t.opinion from T_DEFAULT_OPINION t where t.emp_id=#empid#
</select>  

  <!-- 通过登录人id获取默认意见列表 -->
<select id="queryDefaultOpsForshow" parameterClass="Long" resultClass="com.gotop.opinion.model.TDefaultOpinion">
    
select d.opinion
  from T_DEFAULT_OPINION d
 where d.emp_id = #empid#
union
select e.dictname
  from eos_dict_entry e
 where e.dicttypeid = 'ZHPT_DEFAULT_OPINION'
</select>  

</sqlMap>